sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(e,t,r){"use strict";return e.extend("dashboard.controller.Dashboard",{onInit:function(){this.getOwnerComponent().getRouter().getRoute("TargetDashboard").attachPatternMatched(this._onPatternMatched,this)},_onPatternMatched:function(){this._refreshList()},_refreshList:function(){var e=this.byId("vendorTable");var t=e.getBinding("items");t.refresh()},formatStatusText:function(e){if(e==="In_Progress"){return"In Progress"}else{return e}},onFilterSearch:function(e){var n=this.byId("statusSelect");var a=this.byId("poNumberInput");var o=this.byId("complaintNumberInput");var i=n.getSelectedKey();var s=a.getValue();var u=o.getValue();var d=this.byId("dateFromPicker");var l=this.byId("dateToPicker");var c=d.getDateValue();var h=l.getDateValue();var v=this.byId("vendorTable");var g=v.getBinding("items");var p=[];if(i){p.push(new t("Status",r.EQ,i))}if(s){p.push(new t("PONumber",r.Contains,s))}if(u){p.push(new t("ComplaintNumber",r.Contains,u))}if(c&&h){var I=new t("createdAt",r.GE,c.toISOString());var f=new t("createdAt",r.LE,h.toISOString());p.push(new t([I,f],true))}else if(c){p.push(new t("createdAt",r.GE,c.toISOString()))}else if(h){p.push(new t("createdAt",r.LE,h.toISOString()))}g.filter(p)},onCreateSelection:function(e){var t=this.byId("vendorTable");var r=t.getSelectedItem();var n="";if(r){n=r.getCells()[0].getText()}var a=this.byId("createComplaintButton");a.setEnabled(!n)},onCreateComplaint:function(){var e=this.byId("vendorTable");var t=e.getSelectedItem();if(t){var r=sap.ui.core.UIComponent.getRouterFor(this);var n=t.getBindingContext().getPath();console.log(n);r.navTo("complaintDetails",{path:encodeURIComponent(n)})}else{}},onItemPress:function(e){var t=e.getSource();var r=sap.ui.core.UIComponent.getRouterFor(this);var n=t.getBindingContext().getPath();r.navTo("details",{path:encodeURIComponent(n)})}})});
//# sourceMappingURL=Dashboard.controller.js.map